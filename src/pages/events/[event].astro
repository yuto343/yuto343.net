---
import { CollectionEntry, getCollection } from "astro:content";
import Header from "../../components/shared/header.astro";
import Layout from "../../layouts/layout.astro";

export async function getStaticPaths() {
  const events = await getCollection("events");
  return events.map((event) => ({
    params: { event: event.slug },
    props: { event },
  }));
}
interface Props {
  event: CollectionEntry<"events">;
}

const { event } = Astro.props;
const { Content, remarkPluginFrontmatter } = await event.render();
const test = await event.render();
const { data } = event;
---

<Layout>
  <Header />
  <div>
    <h1>{event.data.title}</h1>
  </div>
  <Content />
</Layout>
